<!-- BEGIN CONTENT BODY -->
<div class="page-content" style="min-height:785px">
    <div class="row">
        <section class="col-md-10 margincontent">
            <!-- BEGIN EXAMPLE TABLE PORTLET-->
            <section style="margin-bottom: 50px;">
                <button type="button" class="btn default pull-left" ui-sref="payments"> Back </button>
            </section>
            <section class="portlet light bordered portletcustom" style="padding:0;">
                <section class="portlet-title">
                    <div class="caption font-dark" style="padding-left:20px;padding-top:15px;">
                        <span class="caption-subject bold uppercase"> Payment details Against <label> {{vm.merchantName}} </label></span>
                    </div>
                </section>
                <section class="portlet-body">
                    <div class="dataTables_wrapper no-footer">
                        <div class="table-scrollable">
                            <table class="table table-striped table-bordered table-hover order-column dataTable no-footer" datatable="ng">
                                <thead>
                                    <tr role="row" style="text-align:center;">
                                        <th style="width: 100px;"> Sr No. </th>
                                        <th class="sorting" style="width:100%;"> Users </th>
                                        <th style="width: 100px;"> Order Number </th>
                                        <th style="width: 108px;"> Transaction ID </th>
                                        <th style="width: 119px;"> Transaction Date </th>
                                        <th style="width: 119px;"> Transaction Amount(Rs) </th>
                                        <th style="width: 220px;"> Offer Amount(Rs) </th>
                                        <th style="width: 220px;"> Promocode Amount(Rs) </th>
                                        <th style="width: 220px;"> Promo/Offer Amount By Merchant(Rs) </th>
                                        <th style="width: 220px;"> Fee Charged(Rs) </th>
                                        <th style="width: 220px;"> Gross Settlement(Rs) </th>
                                        <th style="width: 120px;"> Settlement Amount </th>
                                        <th style="width: 100px;"> Status </th>
                                        <th style="width: 220px; text-align:center;"> Action </th>
                                    </tr>
                                </thead>
                                <tbody class="datatablecustom">
                                    <tr class="gradeX odd" role="row" ng-repeat="paymentDetail in vm.paymentDetails">
                                        <td>{{$index+1}}</td>
                                        <td>{{paymentDetail.user?paymentDetail.user:''}}</td>
                                        <td>{{paymentDetail.orderNumber}}</td>
                                        <td>{{paymentDetail.transactionId}}</td>
                                        <td>{{paymentDetail.transactionDate |date:shortDate}}</td>
                                        <td>{{paymentDetail.transactionAmount | number:2}}</td>
                                        <td>{{paymentDetail.offerAmount | number:2}}</td>
                                        <td>{{paymentDetail.promoOfferAmount | number:2}}</td>
                                        <td>{{paymentDetail.promoAmountByMerchant | number:2}}</td>
                                        <td>{{paymentDetail.feeCharged | number:2}}</td>
                                        <td>{{paymentDetail.amountCreditedToBatua | number:2}}</td>
                                        <td>{{paymentDetail.settlementAmount | number:2}}</td>
                                        <td><span class="label label-sm label-success center">{{((paymentDetail.settlement != null) ? 'Settled' : 'Pending')}}</span></td>
                                        <td><a type="button" class="btn button-color" ui-sref="paymentSettlement({merchantId:vm.merchantId, merchantName:vm.merchantName, paymentId: paymentDetail.id})" ng-if="paymentDetail.settlement == null">Add Settlement</a>
                                            <a type="button" class="btn button-color" ui-sref="settlementDetails({merchantId:vm.merchantId, merchantName:vm.merchantName, paymentId: paymentDetail.id})" ng-if="paymentDetail.settlement != null">Settlement Details</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </section>
            <!-- END EXAMPLE TABLE PORTLET-->
        </section>
    </div>
</div>
